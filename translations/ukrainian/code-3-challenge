<ul>
 	<li><a href="#design">Дизайн екрану</a></li>
 	<li><a href="#data">Додавання даних до бази даних</a></li>
 	<li><a href="#list">Створення списку тегів і значень в базі даних</a></li>
 	<li><a href="#check1">Перевірка</a></li>
 	<li><a href="#search">Програмування кнопки пошуку</a></li>
 	<li><a href="#check2">Перевірка</a></li>
 	<li><a href="#newscreen">Відображення результатів пошуку на новому екрані</a></li>
 	<li><a href="#finalcheck">Фінальна перевірка</a></li>
</ul>
<h3><strong>Опис</strong></h3>
Створіть додаток, що дозволяє користувачеві шукати інформацію в базі даних і переглядати результати. База даних повинна містити імена та описи відомих людей, місць, фільмів, музики, подій або що-небудь, що ви хочете. Переконайтеся, що у вас є принаймні три записи в базі даних.

Постарайтеся розв'язати завдання, не звертаючи уваги на інструкції. Інструкції показують лише один із способів, як ця проблема може бути вирішена. Ви також можете завантажити наш приклад програми в магазині Play Google:

<a href="https://play.google.com/store/apps/details?id=appinventor.ai_alliec.DatabaseSearch">Завдання з кодування #3</a>

Щасливого кодування!
<h2><strong>Загальний план</strong></h2>
Для свого додатку ми створили базу даних з відомих жінок. Можете копіювати і вставляти у свою базу даних чи створити власну!

Ми вирішили завдання з кодування за рахунок зберігання наших даних в TinyDB. Ми зберегли опис вчених з іменами тегів (імена вчених). Після цього ми зробили два списки, один з ім'ям людини, а інший з описами її роботи. Користувач буде вводити текст і додаток буде шукати кожен елемент в обох списках на збіг. Якщо є збіг, ім'я жінки буде відображатися у вигляді списку. Після цього користувач може вибрати, про яку вчену вони хочуть дізнатися більше і новий екран відкриється з описом її роботи. Для цього додатка ми повинні використовувати TinyDB, щоб зберігати дані таким чином, щоб ми могли використовувати їх на окремих екранах.
<table>
<tbody>
<tr>
<td style="text-align: right;"><b>Name/<strong>Назва </strong> (Tag/<strong>Тег</strong>)</b></td>
<td><strong>Опис</strong></td>
</tr>
<tr>
<td style="text-align: right;">Ада Лавлейс</td>
<td>Ада була англійським математиком і письменницею, яка жила в 1800-х роках і відома за свою роботу над раннім механічним комп'ютером загального призначення Чарльза Беббіджа, Аналітичною машиною. Аді часто приписують звання першого програміст, тому що вона написала перший алгоритм, призначений для машини.</td>
</tr>
<tr>
<td style="text-align: right;">Марі Кюрі</td>
<td>Марі була фізиком і хіміком з Польщі. Разом зі своїм чоловіком П'єром вона виявила 2 нових радіоактивних елементів. Марі отримала Нобелівську премію в галузі фізики в 1903. Вона також виявила, що радій може бути використаний для лікування раку.</td>
</tr>
<tr>
<td style="text-align: right;">Еліс Бол</td>
<td>Еліс була хіміком, яка народилась в Сіетлі в 1892 році. Вона була першою афроамеринкою та жінкою, яка закінчила Гавайський університет. В 23 роки Еліс розробила ліки від прокази, яка до її винаходу здавалася безнадійною хворобою.</td>
</tr>
<tr>
<td style="text-align: right;">Соу Лан Ву</td>
<td>Соу Лан - практичний психіатр. Вона народилась під час японської окупації Гонконгу. Соу Лан здобула докторську ступінь в Гарварді. Вона очолювала команду, яка винайшла глюон. Соу Лан — одна з найвидатніших практичних психологів і здійснила багато новаторських відкриттів.</td>
</tr>
<tr>
<td style="text-align: right;">Патриція Бес</td>
<td>Патриція офтальмолог і винахідниця, яка народилась в 1942 році в Гарлемі, Нью-Йорк. Вона закінчила середню школу за 2 з половиною роки, і вже тоді була переконана, що хоче стати лікарем. У 1985 році вона закінчила свій винахід, який видаляє катаракту і відновлює зір людей по всьому світу.</td>
</tr>
</tbody>
</table>
<h2 id="design"><strong><span lang="UK">Дизайн екрану</span></strong></h2>
Ми хочемо, щоб користувач мав можливість пошуку в базі даних, тому ми збираємося додати текстове поле для користувача, щоб він міг ввести пошук і потім одним кліком запустити пошук. Ми знаємо, що ми будемо зберігати наші дані в базі даних, тому ми витягли TinyDB на екран. Ми також знаємо, що ми будемо використовувати списки, тому ми додали ListView до екрану.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image17-1024x553.png" alt="image17" width="1024" height="553" />
<h2 id="data"><strong><span lang="UK">Додавання даних до бази даних</span></strong></h2>
Ми вирішили додавати імена науковиць як тег і опис їх робіт як значення в базу даних. Ми скопіювали і вставили інформацію, яку ми хочемо додати в базу даних, так:

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image37-1024x580.png" alt="image37" width="680" height="386" />

Ви повинні зберігати інформацію в базі даних, коли ваш екран ініціалізується. Так що це перше, що ваш додаток робить. Вам потрібно буде використовувати базу даних для зберігання цієї інформації, якщо ви плануєте використовувати її для будь-яких інших екранів.

Ви можете прочитати більше <a href="http://appinventor.mit.edu/explore/ai2/concepts.html#Screens" target="_blank">тут.</a>
<h2 id="list"><strong><span lang="UK">Створення списків тегів та значень в базі даних</span></strong></h2>
Ми створили список, щоб зберегти імена тегів в ньому. Спочатку ми створили порожній список під назвою "TagNames". Потім ми додали блоки, щоб додати кожен з наших тегів до цього списку. Ми переконалися, що імена тегів в список відповідають іменам тегів в базі даних, включаючи всі великі літери.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image58-1024x548.png" alt="image58" width="849" height="455" />

Тепер, коли у нас є повний список всіх наших імен тегів, нам потрібно створити ще один список, що містить всі значення в базі даних в тому ж порядку, що й імена тегів. По-перше, ми створили порожній список для зберігання всіх значень з бази даних під назвою "databaseValues". Потім ми додали кожне значення в списку в тому ж порядку, що і тег, який відповідає йому, щоб використати в циклі. Для кожного елемента в списку "tagNames", ми додали значення з бази даних в список "databaseValues". Потім ми додали цей цикл до обробник подій when Screen1.Initialize.

<img class="aligncenter" src="http://technovationchallenge.org/wp-content/uploads/2016/11/DBvar.png" alt="" width="419" height="42" />

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image42-1024x314.png" alt="image42" width="600" height="184" />

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image50-1024x470.png" alt="image50" width="650" height="298" />
<div style="background-color: #28a880; color: white; padding: 25px; margin-top: 25px; margin-bottom: 25px;">
<h3 id="check1"><strong>Перевірка</strong> #1</h3>
До цього часу ви маєте вже мати всі дані в базі даних як один список з тегами імен і один список зі значеннями. Переконайтесь, що кожен з ваших списків містить значення, які вам потрібні. Так як ваш додаток ще нічого не робить, ви можете перевірити вашу роботу, вивівши на екран ваші списки на ListView, щоб переконатись, що все на місці. Додайте цей блок до свого коду під вашим for циклом в обробнику подій <em>when Screen1.Initialize</em> і перевірте список “tagNames”.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image00-1024x90.png" alt="image00" width="418" height="37" />

Додайте цей блок до свого коду під for циклом в обробнику подій <em>when Screen1.Initialize, </em>щоб перевірити список “databaseVales”.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image48-1024x78.png" alt="image48" width="456" height="35" />

Після того, як ви переконаєтесь, що все правильно, видаліть ці блоки.

</div>
<h2 id="search"><strong><span lang="UK">Програмування кнопки пошуку</span></strong></h2>
Ми хочемо, щоб наш користувач був здатний робити пошук в базі даних, вводячи текст в текстове поле (textbox) і натискаючи  кнопку пошук “search”. Щоб це зробити, ми збираємось запустити обробник подій для кнопки пошуку, який буде ходити по всім спискам “tagName” і “databaseValues” і шукатиме рядки, які співпадають з тим, що ввів користувач в пошукове поле (textbox). Якщо є збіг, то ми додаємо ім'я науковиці до списку, який відображається. Ось як ми це зробили.

Спершу, створили змінну “searchResults” і встановили її порожнім списком (empty list):

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image03-1-1024x88.png" alt="image03" width="439" height="38" />

Потім ми додали обробник подій для кнопки пошуку. Всередині ми додали блок, щоб встановити кнопку пошуку як порожній список (empty list). Адже щоразу, коли користувач буде натискати пошук “search”, ми хочемо обчистити будь-які речі, які були додані до  “searchResults” в минулому пошуку.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image02-1024x183.png" alt="image02" width="441" height="79" />

Наступне, що ми зробили, це встановили <strong>for </strong>цикл, який здійснює пошук щоразу в списках “tagName” і “databaseValue”. Ви не викорисовувати <em>for each item in list </em>цикл, тому що ми хотіли використовувати лічильну змінну в <strong>for </strong>циклі. Ми почали for цикл з 1 і закінчили кількість записів в нашому списку. Ми змінили назву змінної на індекс “index”.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image54-1024x383.png" alt="image54" width="519" height="194" />

Ось блок, який ми використовували, щоб порівняти текст, який користувач шукає в пошуковому полі, з переліком в списку “tagNames”. Змінна “index” збільшується на 1 щоразу, як цикл повторюється. В кінцевому рахунку текст в пошуковому полі порівнюється з кожним записом в списку “tagNames”. Ми обрали, щоб кожен пошук не був чутливий (make everything downcase to allows the search to not be case sensitive). Блок “сontains text” повертає true, якщо <em>piece</em> з'являється в <em>text</em>.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image28-1024x172.png" alt="image28" width="508" height="85" />

Для порівняння користувацького пошуку в “databaseValues”, ми використали такий самий блок окрім зміненої назви списку.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image51-1024x161.png" alt="image51" width="585" height="92" />

<em>Note: index is the counter variable, so it is a local variable that can only be used inside the for loop. In order to get it to show up in the drop down menu of available variables, you will need to put the block some where inside the for loop. Don't worry where you put the blocks, you can always move them afterwards.</em>

Ми хочемо показати користувачу жінку-науковицю, чиє ім'я і опис співпадає з пошуковим запитом користувача. Щоб це зробити, ми використали ці два останні блоки з оператором умови і логіки <strong>OR</strong>.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image05.png" alt="image05" width="215" height="93" />

Ось який вигляд має наш код з оператором OR:

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image10-1024x223.png" alt="image10" width="1024" height="223" />

Ми хочемо, щоб наш код додав ім'я жінки-науковиці в список “searchResults” (результат пошуку), якщо чи її ім'я, чи опис зійшлись з тим, що шукав користувач. Щоб це зробити, коли є збіг, ми додали назву з tagNames, використовуючи цикл змінної “index”.  Ми не додавали <em>else</em> до нашої умови, тому що, якби ім'я чи опис не підходили, то ми хочемо, щоб наш код не робив би нічого. Потім ми додали в записи в список “searchResults” до ListView. Так як цей блок знаходиться за межами for циклу, наш код оновлює тільки ListView після того, як for цикл закінчиться.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image39-1024x302.png" alt="image39" width="1024" height="302" />
<div style="background-color: #28a880; color: white; padding: 25px; margin-top: 25px; margin-bottom: 25px;">
<h3 id="check2"><strong><span lang="UK">Перевірка</span></strong><b> #2</b></h3>
Ви щойно багато накодили! Перевірте ваш код, щоб переконатись, що ви можете здійснювати пошук! Спробуйте, до прикладу, ім'я вписати “Еліс” чи інше, або професію “хімік”.

</div>
<h2 id="newscreen"><strong><span lang="UK">Виведення на новий екран результатів пошуку</span></strong></h2>
Ми вирішили, що буде краще, якщо користувач зможе обрати жінку-науковицю, яку шукав і дізнатись про неї більше. Щоб це зробити, коли користувач обирає щось зі списку, ми відкриваємо новий екран з startValue вибору користувача.

Пам'ятайте, є тільки два шляхи, щоб передавати дані між екранами — це використання блоку бази даних (database) чи блоку startValue!

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image31.png" alt="image31" width="597" height="108" />

Ми зробили дизайн нашого другого екрану з двома мітками  (labels). Один екран показує ім'я науковиці, а інший — опис. Ми також додали кнопку назад (back), щоб повернутись до першого екрану Screen1. Не забувайте, що вам також потрібно додати TinyDB до екрану!

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image56-1024x509.png" alt="image56" width="1024" height="509" />

Так як початкове значення (start value) — це ім'я науковиці, ми відобразили start value в Label1 і також використали це для отримання опису науковиці з бази даних і відобразити це на Label2. Ви можете знайти блок <em>get start value</em> в категорії <em>control</em>.

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image06.png" alt="image06" width="636" height="175" />

Don’t forget to program your back button to bring you back to the first screen!

<img class="aligncenter" src="http://www.technovationchallenge.org/wp-content/uploads/2016/11/image11-1024x198.png" alt="image11" width="471" height="91" />

Не забувайте запрограмувати кнопку назад “back”, щоб повернутись до першого екрану!
<div style="background-color: #28a880; color: white; padding: 25px; margin-top: 25px; margin-bottom: 25px;">
<h3 id="finalcheck"><strong><span lang="UK">Фінальна перевірка</span></strong></h3>
Переконайтесь, що все в додатку працює! Чи обрані записи в ListView перекидають вас на Screen2 і відображають назву tag name і значення з бази даних database value?

Все ще не виходить? Тут <strong><a style="color: #eae46f;" href="http://appinventor.mit.edu/explore/ai2/share.html" target="_blank">інструкції</a> </strong>щодо того, як завантажили і використати наші коди (англ).
<p style="text-align: center;"><a style="color: #eae46f;" href="https://drive.google.com/file/d/0B9HV58UviqU_YXU1eTBKMDN1ZVE/view" target="_blank">
скачати вихідний код
</a></p>

</div>
